<h1>User</h1>
<%= form_for @user do |f| %>
  <p>
    <%= f.label :name %>
    <%= f.text_field :name %>
  </p>
  <p>
    <strong>Projects</strong>
  </p>
  <%= f.nested_fields_for :projects, wrapper: :div do |pf| %>
    <%= pf.remove_nested_fields_link %>
    <p>
      <%= pf.label :name %>
      <%= pf.text_field :name %>
    </p>
    <p>
      <%= pf.label :description %>
      <%= pf.text_field :description %>
    </p>
    <p>
      <strong>Todos</strong>
    </p>
    <%= pf.nested_fields_for :todos do |tf| %>
      <%= tf.remove_nested_fields_link class: 'test_class' do %>
        <%= 'x' %>
      <% end %>
      <p>
        <%= tf.label :description %>
        <%= tf.text_field :description %>
      </p>
    <% end %>
    <%= pf.add_nested_fields_link :todos %>
  <% end %>
  <%= f.add_nested_fields_link :projects %>
  <%= f.submit %>
<% end %>
